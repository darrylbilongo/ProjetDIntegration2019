{"dependencies":[{"name":"../../tokenizer","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var TYPE = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE;\n\n  var IDENT = TYPE.Ident;\n  var STRING = TYPE.String;\n  var COLON = TYPE.Colon;\n  var LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\n  var RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\n  var DOLLARSIGN = 0x0024;\n  var ASTERISK = 0x002A;\n  var EQUALSSIGN = 0x003D;\n  var CIRCUMFLEXACCENT = 0x005E;\n  var VERTICALLINE = 0x007C;\n  var TILDE = 0x007E;\n\n  function getAttributeName() {\n    if (this.scanner.eof) {\n      this.error('Unexpected end of input');\n    }\n\n    var start = this.scanner.tokenStart;\n    var expectIdent = false;\n    var checkColon = true;\n\n    if (this.scanner.isDelim(ASTERISK)) {\n      expectIdent = true;\n      checkColon = false;\n      this.scanner.next();\n    } else if (!this.scanner.isDelim(VERTICALLINE)) {\n      this.eat(IDENT);\n    }\n\n    if (this.scanner.isDelim(VERTICALLINE)) {\n      if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 1) !== EQUALSSIGN) {\n        this.scanner.next();\n        this.eat(IDENT);\n      } else if (expectIdent) {\n        this.error('Identifier is expected', this.scanner.tokenEnd);\n      }\n    } else if (expectIdent) {\n      this.error('Vertical line is expected');\n    }\n\n    if (checkColon && this.scanner.tokenType === COLON) {\n      this.scanner.next();\n      this.eat(IDENT);\n    }\n\n    return {\n      type: 'Identifier',\n      loc: this.getLocation(start, this.scanner.tokenStart),\n      name: this.scanner.substrToCursor(start)\n    };\n  }\n\n  function getOperator() {\n    var start = this.scanner.tokenStart;\n    var code = this.scanner.source.charCodeAt(start);\n\n    if (code !== EQUALSSIGN && code !== TILDE && code !== CIRCUMFLEXACCENT && code !== DOLLARSIGN && code !== ASTERISK && code !== VERTICALLINE) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n      }\n\n    this.scanner.next();\n\n    if (code !== EQUALSSIGN) {\n      if (!this.scanner.isDelim(EQUALSSIGN)) {\n        this.error('Equal sign is expected');\n      }\n\n      this.scanner.next();\n    }\n\n    return this.scanner.substrToCursor(start);\n  }\n\n  module.exports = {\n    name: 'AttributeSelector',\n    structure: {\n      name: 'Identifier',\n      matcher: [String, null],\n      value: ['String', 'Identifier', null],\n      flags: [String, null]\n    },\n    parse: function parse() {\n      var start = this.scanner.tokenStart;\n      var name;\n      var matcher = null;\n      var value = null;\n      var flags = null;\n      this.eat(LEFTSQUAREBRACKET);\n      this.scanner.skipSC();\n      name = getAttributeName.call(this);\n      this.scanner.skipSC();\n\n      if (this.scanner.tokenType !== RIGHTSQUAREBRACKET) {\n        if (this.scanner.tokenType !== IDENT) {\n          matcher = getOperator.call(this);\n          this.scanner.skipSC();\n          value = this.scanner.tokenType === STRING ? this.String() : this.Identifier();\n          this.scanner.skipSC();\n        }\n\n        if (this.scanner.tokenType === IDENT) {\n          flags = this.scanner.getTokenValue();\n          this.scanner.next();\n          this.scanner.skipSC();\n        }\n      }\n\n      this.eat(RIGHTSQUAREBRACKET);\n      return {\n        type: 'AttributeSelector',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: name,\n        matcher: matcher,\n        value: value,\n        flags: flags\n      };\n    },\n    generate: function generate(node) {\n      var flagsPrefix = ' ';\n      this.chunk('[');\n      this.node(node.name);\n\n      if (node.matcher !== null) {\n        this.chunk(node.matcher);\n\n        if (node.value !== null) {\n          this.node(node.value);\n\n          if (node.value.type === 'String') {\n            flagsPrefix = '';\n          }\n        }\n      }\n\n      if (node.flags !== null) {\n        this.chunk(flagsPrefix);\n        this.chunk(node.flags);\n      }\n\n      this.chunk(']');\n    }\n  };\n});","map":[[2,0,1,0],[2,6,1,4,"TYPE"],[2,10,1,8],[2,13,1,11,"require"],[2,24,1,18],[2,62,1,11],[2,63,1,38,"TYPE"],[2,67,1,0],[4,0,3,0],[4,6,3,4,"IDENT"],[4,11,3,9],[4,14,3,12,"TYPE"],[4,18,3,16],[4,19,3,17,"Ident"],[4,24,3,0],[5,0,4,0],[5,6,4,4,"STRING"],[5,12,4,10],[5,15,4,13,"TYPE"],[5,19,4,17],[5,20,4,18,"String"],[5,26,4,0],[6,0,5,0],[6,6,5,4,"COLON"],[6,11,5,9],[6,14,5,12,"TYPE"],[6,18,5,16],[6,19,5,17,"Colon"],[6,24,5,0],[7,0,6,0],[7,6,6,4,"LEFTSQUAREBRACKET"],[7,23,6,21],[7,26,6,24,"TYPE"],[7,30,6,28],[7,31,6,29,"LeftSquareBracket"],[7,48,6,0],[8,0,7,0],[8,6,7,4,"RIGHTSQUAREBRACKET"],[8,24,7,22],[8,27,7,25,"TYPE"],[8,31,7,29],[8,32,7,30,"RightSquareBracket"],[8,50,7,0],[9,0,8,0],[9,6,8,4,"DOLLARSIGN"],[9,16,8,14],[9,19,8,17],[9,25,8,0],[10,0,9,0],[10,6,9,4,"ASTERISK"],[10,14,9,12],[10,17,9,15],[10,23,9,0],[11,0,10,0],[11,6,10,4,"EQUALSSIGN"],[11,16,10,14],[11,19,10,17],[11,25,10,0],[12,0,11,0],[12,6,11,4,"CIRCUMFLEXACCENT"],[12,22,11,20],[12,25,11,23],[12,31,11,0],[13,0,12,0],[13,6,12,4,"VERTICALLINE"],[13,18,12,16],[13,21,12,19],[13,27,12,0],[14,0,13,0],[14,6,13,4,"TILDE"],[14,11,13,9],[14,14,13,12],[14,20,13,0],[16,0,15,0],[16,11,15,9,"getAttributeName"],[16,27,15,0],[16,30,15,28],[17,0,16,4],[17,8,16,8],[17,13,16,13,"scanner"],[17,20,16,8],[17,21,16,21,"eof"],[17,24,16,4],[17,26,16,26],[18,0,17,8],[18,11,17,13,"error"],[18,16,17,8],[18,17,17,19],[18,42,17,8],[19,0,18,5],[21,0,20,4],[21,8,20,8,"start"],[21,13,20,13],[21,16,20,16],[21,21,20,21,"scanner"],[21,28,20,16],[21,29,20,29,"tokenStart"],[21,39,20,4],[22,0,21,4],[22,8,21,8,"expectIdent"],[22,19,21,19],[22,22,21,22],[22,27,21,4],[23,0,22,4],[23,8,22,8,"checkColon"],[23,18,22,18],[23,21,22,21],[23,25,22,4],[25,0,24,4],[25,8,24,8],[25,13,24,13,"scanner"],[25,20,24,8],[25,21,24,21,"isDelim"],[25,28,24,8],[25,29,24,29,"ASTERISK"],[25,37,24,8],[25,38,24,4],[25,40,24,40],[26,0,25,8,"expectIdent"],[26,6,25,8,"expectIdent"],[26,17,25,19],[26,20,25,22],[26,24,25,8],[27,0,26,8,"checkColon"],[27,6,26,8,"checkColon"],[27,16,26,18],[27,19,26,21],[27,24,26,8],[28,0,27,8],[28,11,27,13,"scanner"],[28,18,27,8],[28,19,27,21,"next"],[28,23,27,8],[29,0,28,5],[29,5,24,4],[29,11,28,11],[29,15,28,15],[29,16,28,16],[29,21,28,21,"scanner"],[29,28,28,16],[29,29,28,29,"isDelim"],[29,36,28,16],[29,37,28,37,"VERTICALLINE"],[29,49,28,16],[29,50,28,11],[29,52,28,52],[30,0,29,8],[30,11,29,13,"eat"],[30,14,29,8],[30,15,29,17,"IDENT"],[30,20,29,8],[31,0,30,5],[33,0,32,4],[33,8,32,8],[33,13,32,13,"scanner"],[33,20,32,8],[33,21,32,21,"isDelim"],[33,28,32,8],[33,29,32,29,"VERTICALLINE"],[33,41,32,8],[33,42,32,4],[33,44,32,44],[34,0,33,8],[34,10,33,12],[34,15,33,17,"scanner"],[34,22,33,12],[34,23,33,25,"source"],[34,29,33,12],[34,30,33,32,"charCodeAt"],[34,40,33,12],[34,41,33,43],[34,46,33,48,"scanner"],[34,53,33,43],[34,54,33,56,"tokenStart"],[34,64,33,43],[34,67,33,69],[34,68,33,12],[34,74,33,76,"EQUALSSIGN"],[34,84,33,8],[34,86,33,88],[35,0,34,12],[35,13,34,17,"scanner"],[35,20,34,12],[35,21,34,25,"next"],[35,25,34,12],[36,0,35,12],[36,13,35,17,"eat"],[36,16,35,12],[36,17,35,21,"IDENT"],[36,22,35,12],[37,0,36,9],[37,7,33,8],[37,13,36,15],[37,17,36,19,"expectIdent"],[37,28,36,15],[37,30,36,32],[38,0,37,12],[38,13,37,17,"error"],[38,18,37,12],[38,19,37,23],[38,43,37,12],[38,45,37,49],[38,50,37,54,"scanner"],[38,57,37,49],[38,58,37,62,"tokenEnd"],[38,66,37,12],[39,0,38,9],[40,0,39,5],[40,5,32,4],[40,11,39,11],[40,15,39,15,"expectIdent"],[40,26,39,11],[40,28,39,28],[41,0,40,8],[41,11,40,13,"error"],[41,16,40,8],[41,17,40,19],[41,44,40,8],[42,0,41,5],[44,0,43,4],[44,8,43,8,"checkColon"],[44,18,43,18],[44,22,43,22],[44,27,43,27,"scanner"],[44,34,43,22],[44,35,43,35,"tokenType"],[44,44,43,22],[44,49,43,49,"COLON"],[44,54,43,4],[44,56,43,56],[45,0,44,8],[45,11,44,13,"scanner"],[45,18,44,8],[45,19,44,21,"next"],[45,23,44,8],[46,0,45,8],[46,11,45,13,"eat"],[46,14,45,8],[46,15,45,17,"IDENT"],[46,20,45,8],[47,0,46,5],[49,0,48,4],[49,11,48,11],[50,0,49,8,"type"],[50,6,49,8,"type"],[50,10,49,12],[50,12,49,14],[50,24,48,11],[51,0,50,8,"loc"],[51,6,50,8,"loc"],[51,9,50,11],[51,11,50,13],[51,16,50,18,"getLocation"],[51,27,50,13],[51,28,50,30,"start"],[51,33,50,13],[51,35,50,37],[51,40,50,42,"scanner"],[51,47,50,37],[51,48,50,50,"tokenStart"],[51,58,50,13],[51,59,48,11],[52,0,51,8,"name"],[52,6,51,8,"name"],[52,10,51,12],[52,12,51,14],[52,17,51,19,"scanner"],[52,24,51,14],[52,25,51,27,"substrToCursor"],[52,39,51,14],[52,40,51,42,"start"],[52,45,51,14],[53,0,48,11],[53,5,48,4],[54,0,53,1],[56,0,55,0],[56,11,55,9,"getOperator"],[56,22,55,0],[56,25,55,23],[57,0,56,4],[57,8,56,8,"start"],[57,13,56,13],[57,16,56,16],[57,21,56,21,"scanner"],[57,28,56,16],[57,29,56,29,"tokenStart"],[57,39,56,4],[58,0,57,4],[58,8,57,8,"code"],[58,12,57,12],[58,15,57,15],[58,20,57,20,"scanner"],[58,27,57,15],[58,28,57,28,"source"],[58,34,57,15],[58,35,57,35,"charCodeAt"],[58,45,57,15],[58,46,57,46,"start"],[58,51,57,15],[58,52,57,4],[60,0,59,4],[60,8,59,8,"code"],[60,12,59,12],[60,17,59,17,"EQUALSSIGN"],[60,27,59,8],[60,31,60,8,"code"],[60,35,60,12],[60,40,60,17,"TILDE"],[60,45,59,8],[60,49,61,8,"code"],[60,53,61,12],[60,58,61,17,"CIRCUMFLEXACCENT"],[60,74,59,8],[60,78,62,8,"code"],[60,82,62,12],[60,87,62,17,"DOLLARSIGN"],[60,97,59,8],[60,101,63,8,"code"],[60,105,63,12],[60,110,63,17,"ASTERISK"],[60,118,59,8],[60,122,64,8,"code"],[60,126,64,12],[60,131,64,17,"VERTICALLINE"],[60,143,59,4],[60,145,65,6],[61,0,66,8],[61,13,66,13,"error"],[61,18,66,8],[61,19,66,19],[61,75,66,8],[62,0,67,5],[64,0,69,4],[64,9,69,9,"scanner"],[64,16,69,4],[64,17,69,17,"next"],[64,21,69,4],[66,0,71,4],[66,8,71,8,"code"],[66,12,71,12],[66,17,71,17,"EQUALSSIGN"],[66,27,71,4],[66,29,71,29],[67,0,72,8],[67,10,72,12],[67,11,72,13],[67,16,72,18,"scanner"],[67,23,72,13],[67,24,72,26,"isDelim"],[67,31,72,13],[67,32,72,34,"EQUALSSIGN"],[67,42,72,13],[67,43,72,8],[67,45,72,47],[68,0,73,12],[68,13,73,17,"error"],[68,18,73,12],[68,19,73,23],[68,43,73,12],[69,0,74,9],[71,0,76,8],[71,11,76,13,"scanner"],[71,18,76,8],[71,19,76,21,"next"],[71,23,76,8],[72,0,77,5],[74,0,79,4],[74,11,79,11],[74,16,79,16,"scanner"],[74,23,79,11],[74,24,79,24,"substrToCursor"],[74,38,79,11],[74,39,79,39,"start"],[74,44,79,11],[74,45,79,4],[75,0,80,1],[77,0,84,0,"module"],[77,2,84,0,"module"],[77,8,84,6],[77,9,84,7,"exports"],[77,16,84,0],[77,19,84,17],[78,0,85,4,"name"],[78,4,85,4,"name"],[78,8,85,8],[78,10,85,10],[78,29,84,17],[79,0,86,4,"structure"],[79,4,86,4,"structure"],[79,13,86,13],[79,15,86,15],[80,0,87,8,"name"],[80,6,87,8,"name"],[80,10,87,12],[80,12,87,14],[80,24,86,15],[81,0,88,8,"matcher"],[81,6,88,8,"matcher"],[81,13,88,15],[81,15,88,17],[81,16,88,18,"String"],[81,22,88,17],[81,24,88,26],[81,28,88,17],[81,29,86,15],[82,0,89,8,"value"],[82,6,89,8,"value"],[82,11,89,13],[82,13,89,15],[82,14,89,16],[82,22,89,15],[82,24,89,26],[82,36,89,15],[82,38,89,40],[82,42,89,15],[82,43,86,15],[83,0,90,8,"flags"],[83,6,90,8,"flags"],[83,11,90,13],[83,13,90,15],[83,14,90,16,"String"],[83,20,90,15],[83,22,90,24],[83,26,90,15],[84,0,86,15],[84,5,84,17],[85,0,92,4,"parse"],[85,4,92,4,"parse"],[85,9,92,9],[85,11,92,11],[85,28,92,22],[86,0,93,8],[86,10,93,12,"start"],[86,15,93,17],[86,18,93,20],[86,23,93,25,"scanner"],[86,30,93,20],[86,31,93,33,"tokenStart"],[86,41,93,8],[87,0,94,8],[87,10,94,12,"name"],[87,14,94,8],[88,0,95,8],[88,10,95,12,"matcher"],[88,17,95,19],[88,20,95,22],[88,24,95,8],[89,0,96,8],[89,10,96,12,"value"],[89,15,96,17],[89,18,96,20],[89,22,96,8],[90,0,97,8],[90,10,97,12,"flags"],[90,15,97,17],[90,18,97,20],[90,22,97,8],[91,0,99,8],[91,11,99,13,"eat"],[91,14,99,8],[91,15,99,17,"LEFTSQUAREBRACKET"],[91,32,99,8],[92,0,100,8],[92,11,100,13,"scanner"],[92,18,100,8],[92,19,100,21,"skipSC"],[92,25,100,8],[93,0,102,8,"name"],[93,6,102,8,"name"],[93,10,102,12],[93,13,102,15,"getAttributeName"],[93,29,102,31],[93,30,102,32,"call"],[93,34,102,15],[93,35,102,37],[93,39,102,15],[93,40,102,8],[94,0,103,8],[94,11,103,13,"scanner"],[94,18,103,8],[94,19,103,21,"skipSC"],[94,25,103,8],[96,0,105,8],[96,10,105,12],[96,15,105,17,"scanner"],[96,22,105,12],[96,23,105,25,"tokenType"],[96,32,105,12],[96,37,105,39,"RIGHTSQUAREBRACKET"],[96,55,105,8],[96,57,105,59],[97,0,107,12],[97,12,107,16],[97,17,107,21,"scanner"],[97,24,107,16],[97,25,107,29,"tokenType"],[97,34,107,16],[97,39,107,43,"IDENT"],[97,44,107,12],[97,46,107,50],[98,0,108,16,"matcher"],[98,10,108,16,"matcher"],[98,17,108,23],[98,20,108,26,"getOperator"],[98,31,108,37],[98,32,108,38,"call"],[98,36,108,26],[98,37,108,43],[98,41,108,26],[98,42,108,16],[99,0,110,16],[99,15,110,21,"scanner"],[99,22,110,16],[99,23,110,29,"skipSC"],[99,29,110,16],[100,0,112,16,"value"],[100,10,112,16,"value"],[100,15,112,21],[100,18,112,24],[100,23,112,29,"scanner"],[100,30,112,24],[100,31,112,37,"tokenType"],[100,40,112,24],[100,45,112,51,"STRING"],[100,51,112,24],[100,54,113,22],[100,59,113,27,"String"],[100,65,113,22],[100,67,112,24],[100,70,114,22],[100,75,114,27,"Identifier"],[100,85,114,22],[100,87,112,16],[101,0,116,16],[101,15,116,21,"scanner"],[101,22,116,16],[101,23,116,29,"skipSC"],[101,29,116,16],[102,0,117,13],[104,0,120,12],[104,12,120,16],[104,17,120,21,"scanner"],[104,24,120,16],[104,25,120,29,"tokenType"],[104,34,120,16],[104,39,120,43,"IDENT"],[104,44,120,12],[104,46,120,50],[105,0,121,16,"flags"],[105,10,121,16,"flags"],[105,15,121,21],[105,18,121,24],[105,23,121,29,"scanner"],[105,30,121,24],[105,31,121,37,"getTokenValue"],[105,44,121,24],[105,46,121,16],[106,0,122,16],[106,15,122,21,"scanner"],[106,22,122,16],[106,23,122,29,"next"],[106,27,122,16],[107,0,124,16],[107,15,124,21,"scanner"],[107,22,124,16],[107,23,124,29,"skipSC"],[107,29,124,16],[108,0,125,13],[109,0,126,9],[111,0,128,8],[111,11,128,13,"eat"],[111,14,128,8],[111,15,128,17,"RIGHTSQUAREBRACKET"],[111,33,128,8],[112,0,130,8],[112,13,130,15],[113,0,131,12,"type"],[113,8,131,12,"type"],[113,12,131,16],[113,14,131,18],[113,33,130,15],[114,0,132,12,"loc"],[114,8,132,12,"loc"],[114,11,132,15],[114,13,132,17],[114,18,132,22,"getLocation"],[114,29,132,17],[114,30,132,34,"start"],[114,35,132,17],[114,37,132,41],[114,42,132,46,"scanner"],[114,49,132,41],[114,50,132,54,"tokenStart"],[114,60,132,17],[114,61,130,15],[115,0,133,12,"name"],[115,8,133,12,"name"],[115,12,133,16],[115,14,133,18,"name"],[115,18,130,15],[116,0,134,12,"matcher"],[116,8,134,12,"matcher"],[116,15,134,19],[116,17,134,21,"matcher"],[116,24,130,15],[117,0,135,12,"value"],[117,8,135,12,"value"],[117,13,135,17],[117,15,135,19,"value"],[117,20,130,15],[118,0,136,12,"flags"],[118,8,136,12,"flags"],[118,13,136,17],[118,15,136,19,"flags"],[119,0,130,15],[119,7,130,8],[120,0,138,5],[120,5,84,17],[121,0,139,4,"generate"],[121,4,139,4,"generate"],[121,12,139,12],[121,14,139,14],[121,32,139,23,"node"],[121,36,139,14],[121,38,139,29],[122,0,140,8],[122,10,140,12,"flagsPrefix"],[122,21,140,23],[122,24,140,26],[122,27,140,8],[123,0,142,8],[123,11,142,13,"chunk"],[123,16,142,8],[123,17,142,19],[123,20,142,8],[124,0,143,8],[124,11,143,13,"node"],[124,15,143,8],[124,16,143,18,"node"],[124,20,143,22],[124,21,143,23,"name"],[124,25,143,8],[126,0,145,8],[126,10,145,12,"node"],[126,14,145,16],[126,15,145,17,"matcher"],[126,22,145,12],[126,27,145,29],[126,31,145,8],[126,33,145,35],[127,0,146,12],[127,13,146,17,"chunk"],[127,18,146,12],[127,19,146,23,"node"],[127,23,146,27],[127,24,146,28,"matcher"],[127,31,146,12],[129,0,148,12],[129,12,148,16,"node"],[129,16,148,20],[129,17,148,21,"value"],[129,22,148,16],[129,27,148,31],[129,31,148,12],[129,33,148,37],[130,0,149,16],[130,15,149,21,"node"],[130,19,149,16],[130,20,149,26,"node"],[130,24,149,30],[130,25,149,31,"value"],[130,30,149,16],[132,0,152,16],[132,14,152,20,"node"],[132,18,152,24],[132,19,152,25,"value"],[132,24,152,20],[132,25,152,31,"type"],[132,29,152,20],[132,34,152,40],[132,42,152,16],[132,44,152,50],[133,0,153,20,"flagsPrefix"],[133,12,153,20,"flagsPrefix"],[133,23,153,31],[133,26,153,34],[133,28,153,20],[134,0,154,17],[135,0,155,13],[136,0,156,9],[138,0,158,8],[138,10,158,12,"node"],[138,14,158,16],[138,15,158,17,"flags"],[138,20,158,12],[138,25,158,27],[138,29,158,8],[138,31,158,33],[139,0,159,12],[139,13,159,17,"chunk"],[139,18,159,12],[139,19,159,23,"flagsPrefix"],[139,30,159,12],[140,0,160,12],[140,13,160,17,"chunk"],[140,18,160,12],[140,19,160,23,"node"],[140,23,160,27],[140,24,160,28,"flags"],[140,29,160,12],[141,0,161,9],[143,0,163,8],[143,11,163,13,"chunk"],[143,16,163,8],[143,17,163,19],[143,20,163,8],[144,0,164,5],[145,0,84,17],[145,3,84,0]]},"type":"js/module"}]}