{"dependencies":[{"name":"../../tokenizer","data":{"isAsync":false}},{"name":"./Raw","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var TYPE = _$$_REQUIRE(_dependencyMap[0], \"../../tokenizer\").TYPE;\n\n  var rawMode = _$$_REQUIRE(_dependencyMap[1], \"./Raw\").mode;\n\n  var ATKEYWORD = TYPE.AtKeyword;\n  var SEMICOLON = TYPE.Semicolon;\n  var LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n  var RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\n  function consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracketOrSemicolon, true);\n  }\n\n  function isDeclarationBlockAtrule() {\n    for (var offset = 1, type; type = this.scanner.lookupType(offset); offset++) {\n      if (type === RIGHTCURLYBRACKET) {\n        return true;\n      }\n\n      if (type === LEFTCURLYBRACKET || type === ATKEYWORD) {\n        return false;\n      }\n    }\n\n    return false;\n  }\n\n  module.exports = {\n    name: 'Atrule',\n    structure: {\n      name: String,\n      prelude: ['AtrulePrelude', 'Raw', null],\n      block: ['Block', null]\n    },\n    parse: function parse() {\n      var start = this.scanner.tokenStart;\n      var name;\n      var nameLowerCase;\n      var prelude = null;\n      var block = null;\n      this.eat(ATKEYWORD);\n      name = this.scanner.substrToCursor(start + 1);\n      nameLowerCase = name.toLowerCase();\n      this.scanner.skipSC();\n\n      if (this.scanner.eof === false && this.scanner.tokenType !== LEFTCURLYBRACKET && this.scanner.tokenType !== SEMICOLON) {\n        if (this.parseAtrulePrelude) {\n          prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name), consumeRaw);\n\n          if (prelude.type === 'AtrulePrelude' && prelude.children.head === null) {\n            prelude = null;\n          }\n        } else {\n          prelude = consumeRaw.call(this, this.scanner.tokenIndex);\n        }\n\n        this.scanner.skipSC();\n      }\n\n      switch (this.scanner.tokenType) {\n        case SEMICOLON:\n          this.scanner.next();\n          break;\n\n        case LEFTCURLYBRACKET:\n          if (this.atrule.hasOwnProperty(nameLowerCase) && typeof this.atrule[nameLowerCase].block === 'function') {\n            block = this.atrule[nameLowerCase].block.call(this);\n          } else {\n            block = this.Block(isDeclarationBlockAtrule.call(this));\n          }\n\n          break;\n      }\n\n      return {\n        type: 'Atrule',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: name,\n        prelude: prelude,\n        block: block\n      };\n    },\n    generate: function generate(node) {\n      this.chunk('@');\n      this.chunk(node.name);\n\n      if (node.prelude !== null) {\n        this.chunk(' ');\n        this.node(node.prelude);\n      }\n\n      if (node.block) {\n        this.node(node.block);\n      } else {\n        this.chunk(';');\n      }\n    },\n    walkContext: 'atrule'\n  };\n});","map":[[2,0,1,0],[2,6,1,4,"TYPE"],[2,10,1,8],[2,13,1,11,"require"],[2,24,1,18],[2,62,1,11],[2,63,1,38,"TYPE"],[2,67,1,0],[4,0,2,0],[4,6,2,4,"rawMode"],[4,13,2,11],[4,16,2,14,"require"],[4,27,2,21],[4,55,2,14],[4,56,2,31,"mode"],[4,60,2,0],[6,0,4,0],[6,6,4,4,"ATKEYWORD"],[6,15,4,13],[6,18,4,16,"TYPE"],[6,22,4,20],[6,23,4,21,"AtKeyword"],[6,32,4,0],[7,0,5,0],[7,6,5,4,"SEMICOLON"],[7,15,5,13],[7,18,5,16,"TYPE"],[7,22,5,20],[7,23,5,21,"Semicolon"],[7,32,5,0],[8,0,6,0],[8,6,6,4,"LEFTCURLYBRACKET"],[8,22,6,20],[8,25,6,23,"TYPE"],[8,29,6,27],[8,30,6,28,"LeftCurlyBracket"],[8,46,6,0],[9,0,7,0],[9,6,7,4,"RIGHTCURLYBRACKET"],[9,23,7,21],[9,26,7,24,"TYPE"],[9,30,7,28],[9,31,7,29,"RightCurlyBracket"],[9,48,7,0],[11,0,9,0],[11,11,9,9,"consumeRaw"],[11,21,9,0],[11,22,9,20,"startToken"],[11,32,9,0],[11,34,9,32],[12,0,10,4],[12,11,10,11],[12,16,10,16,"Raw"],[12,19,10,11],[12,20,10,20,"startToken"],[12,30,10,11],[12,32,10,32,"rawMode"],[12,39,10,39],[12,40,10,40,"leftCurlyBracketOrSemicolon"],[12,67,10,11],[12,69,10,69],[12,73,10,11],[12,74,10,4],[13,0,11,1],[15,0,13,0],[15,11,13,9,"isDeclarationBlockAtrule"],[15,35,13,0],[15,38,13,36],[16,0,14,4],[16,9,14,9],[16,13,14,13,"offset"],[16,19,14,19],[16,22,14,22],[16,23,14,9],[16,25,14,25,"type"],[16,29,14,4],[16,31,14,31,"type"],[16,35,14,35],[16,38,14,38],[16,43,14,43,"scanner"],[16,50,14,38],[16,51,14,51,"lookupType"],[16,61,14,38],[16,62,14,62,"offset"],[16,68,14,38],[16,69,14,4],[16,71,14,71,"offset"],[16,77,14,77],[16,79,14,4],[16,81,14,81],[17,0,15,8],[17,10,15,12,"type"],[17,14,15,16],[17,19,15,21,"RIGHTCURLYBRACKET"],[17,36,15,8],[17,38,15,40],[18,0,16,12],[18,15,16,19],[18,19,16,12],[19,0,17,9],[21,0,19,8],[21,10,19,12,"type"],[21,14,19,16],[21,19,19,21,"LEFTCURLYBRACKET"],[21,35,19,12],[21,39,20,12,"type"],[21,43,20,16],[21,48,20,21,"ATKEYWORD"],[21,57,19,8],[21,59,20,32],[22,0,21,12],[22,15,21,19],[22,20,21,12],[23,0,22,9],[24,0,23,5],[26,0,25,4],[26,11,25,11],[26,16,25,4],[27,0,26,1],[29,0,28,0,"module"],[29,2,28,0,"module"],[29,8,28,6],[29,9,28,7,"exports"],[29,16,28,0],[29,19,28,17],[30,0,29,4,"name"],[30,4,29,4,"name"],[30,8,29,8],[30,10,29,10],[30,18,28,17],[31,0,30,4,"structure"],[31,4,30,4,"structure"],[31,13,30,13],[31,15,30,15],[32,0,31,8,"name"],[32,6,31,8,"name"],[32,10,31,12],[32,12,31,14,"String"],[32,18,30,15],[33,0,32,8,"prelude"],[33,6,32,8,"prelude"],[33,13,32,15],[33,15,32,17],[33,16,32,18],[33,31,32,17],[33,33,32,35],[33,38,32,17],[33,40,32,42],[33,44,32,17],[33,45,30,15],[34,0,33,8,"block"],[34,6,33,8,"block"],[34,11,33,13],[34,13,33,15],[34,14,33,16],[34,21,33,15],[34,23,33,25],[34,27,33,15],[35,0,30,15],[35,5,28,17],[36,0,35,4,"parse"],[36,4,35,4,"parse"],[36,9,35,9],[36,11,35,11],[36,28,35,22],[37,0,36,8],[37,10,36,12,"start"],[37,15,36,17],[37,18,36,20],[37,23,36,25,"scanner"],[37,30,36,20],[37,31,36,33,"tokenStart"],[37,41,36,8],[38,0,37,8],[38,10,37,12,"name"],[38,14,37,8],[39,0,38,8],[39,10,38,12,"nameLowerCase"],[39,23,38,8],[40,0,39,8],[40,10,39,12,"prelude"],[40,17,39,19],[40,20,39,22],[40,24,39,8],[41,0,40,8],[41,10,40,12,"block"],[41,15,40,17],[41,18,40,20],[41,22,40,8],[42,0,42,8],[42,11,42,13,"eat"],[42,14,42,8],[42,15,42,17,"ATKEYWORD"],[42,24,42,8],[43,0,44,8,"name"],[43,6,44,8,"name"],[43,10,44,12],[43,13,44,15],[43,18,44,20,"scanner"],[43,25,44,15],[43,26,44,28,"substrToCursor"],[43,40,44,15],[43,41,44,43,"start"],[43,46,44,48],[43,49,44,51],[43,50,44,15],[43,51,44,8],[44,0,45,8,"nameLowerCase"],[44,6,45,8,"nameLowerCase"],[44,19,45,21],[44,22,45,24,"name"],[44,26,45,28],[44,27,45,29,"toLowerCase"],[44,38,45,24],[44,40,45,8],[45,0,46,8],[45,11,46,13,"scanner"],[45,18,46,8],[45,19,46,21,"skipSC"],[45,25,46,8],[47,0,49,8],[47,10,49,12],[47,15,49,17,"scanner"],[47,22,49,12],[47,23,49,25,"eof"],[47,26,49,12],[47,31,49,33],[47,36,49,12],[47,40,50,12],[47,45,50,17,"scanner"],[47,52,50,12],[47,53,50,25,"tokenType"],[47,62,50,12],[47,67,50,39,"LEFTCURLYBRACKET"],[47,83,49,12],[47,87,51,12],[47,92,51,17,"scanner"],[47,99,51,12],[47,100,51,25,"tokenType"],[47,109,51,12],[47,114,51,39,"SEMICOLON"],[47,123,49,8],[47,125,51,50],[48,0,52,12],[48,12,52,16],[48,17,52,21,"parseAtrulePrelude"],[48,35,52,12],[48,37,52,41],[49,0,53,16,"prelude"],[49,10,53,16,"prelude"],[49,17,53,23],[49,20,53,26],[49,25,53,31,"parseWithFallback"],[49,42,53,26],[49,43,53,49],[49,48,53,54,"AtrulePrelude"],[49,61,53,49],[49,62,53,68,"bind"],[49,66,53,49],[49,67,53,73],[49,71,53,49],[49,73,53,79,"name"],[49,77,53,49],[49,78,53,26],[49,80,53,86,"consumeRaw"],[49,90,53,26],[49,91,53,16],[51,0,56,16],[51,14,56,20,"prelude"],[51,21,56,27],[51,22,56,28,"type"],[51,26,56,20],[51,31,56,37],[51,46,56,20],[51,50,56,56,"prelude"],[51,57,56,63],[51,58,56,64,"children"],[51,66,56,56],[51,67,56,73,"head"],[51,71,56,56],[51,76,56,82],[51,80,56,16],[51,82,56,88],[52,0,57,20,"prelude"],[52,12,57,20,"prelude"],[52,19,57,27],[52,22,57,30],[52,26,57,20],[53,0,58,17],[54,0,59,13],[54,9,52,12],[54,15,59,19],[55,0,60,16,"prelude"],[55,10,60,16,"prelude"],[55,17,60,23],[55,20,60,26,"consumeRaw"],[55,30,60,36],[55,31,60,37,"call"],[55,35,60,26],[55,36,60,42],[55,40,60,26],[55,42,60,48],[55,47,60,53,"scanner"],[55,54,60,48],[55,55,60,61,"tokenIndex"],[55,65,60,26],[55,66,60,16],[56,0,61,13],[58,0,63,12],[58,13,63,17,"scanner"],[58,20,63,12],[58,21,63,25,"skipSC"],[58,27,63,12],[59,0,64,9],[61,0,66,8],[61,14,66,16],[61,19,66,21,"scanner"],[61,26,66,16],[61,27,66,29,"tokenType"],[61,36,66,8],[62,0,67,12],[62,13,67,17,"SEMICOLON"],[62,22,67,12],[63,0,68,16],[63,15,68,21,"scanner"],[63,22,68,16],[63,23,68,29,"next"],[63,27,68,16],[64,0,69,16],[66,0,71,12],[66,13,71,17,"LEFTCURLYBRACKET"],[66,29,71,12],[67,0,72,16],[67,14,72,20],[67,19,72,25,"atrule"],[67,25,72,20],[67,26,72,32,"hasOwnProperty"],[67,40,72,20],[67,41,72,47,"nameLowerCase"],[67,54,72,20],[67,59,73,20],[67,66,73,27],[67,71,73,32,"atrule"],[67,77,73,27],[67,78,73,39,"nameLowerCase"],[67,91,73,27],[67,93,73,54,"block"],[67,98,73,20],[67,103,73,64],[67,113,72,16],[67,115,73,76],[68,0,74,20,"block"],[68,12,74,20,"block"],[68,17,74,25],[68,20,74,28],[68,25,74,33,"atrule"],[68,31,74,28],[68,32,74,40,"nameLowerCase"],[68,45,74,28],[68,47,74,55,"block"],[68,52,74,28],[68,53,74,61,"call"],[68,57,74,28],[68,58,74,66],[68,62,74,28],[68,63,74,20],[69,0,75,17],[69,11,72,16],[69,17,75,23],[70,0,77,20,"block"],[70,12,77,20,"block"],[70,17,77,25],[70,20,77,28],[70,25,77,33,"Block"],[70,30,77,28],[70,31,77,39,"isDeclarationBlockAtrule"],[70,55,77,63],[70,56,77,64,"call"],[70,60,77,39],[70,61,77,69],[70,65,77,39],[70,66,77,28],[70,67,77,20],[71,0,78,17],[73,0,80,16],[74,0,66,8],[76,0,83,8],[76,13,83,15],[77,0,84,12,"type"],[77,8,84,12,"type"],[77,12,84,16],[77,14,84,18],[77,22,83,15],[78,0,85,12,"loc"],[78,8,85,12,"loc"],[78,11,85,15],[78,13,85,17],[78,18,85,22,"getLocation"],[78,29,85,17],[78,30,85,34,"start"],[78,35,85,17],[78,37,85,41],[78,42,85,46,"scanner"],[78,49,85,41],[78,50,85,54,"tokenStart"],[78,60,85,17],[78,61,83,15],[79,0,86,12,"name"],[79,8,86,12,"name"],[79,12,86,16],[79,14,86,18,"name"],[79,18,83,15],[80,0,87,12,"prelude"],[80,8,87,12,"prelude"],[80,15,87,19],[80,17,87,21,"prelude"],[80,24,83,15],[81,0,88,12,"block"],[81,8,88,12,"block"],[81,13,88,17],[81,15,88,19,"block"],[82,0,83,15],[82,7,83,8],[83,0,90,5],[83,5,28,17],[84,0,91,4,"generate"],[84,4,91,4,"generate"],[84,12,91,12],[84,14,91,14],[84,32,91,23,"node"],[84,36,91,14],[84,38,91,29],[85,0,92,8],[85,11,92,13,"chunk"],[85,16,92,8],[85,17,92,19],[85,20,92,8],[86,0,93,8],[86,11,93,13,"chunk"],[86,16,93,8],[86,17,93,19,"node"],[86,21,93,23],[86,22,93,24,"name"],[86,26,93,8],[88,0,95,8],[88,10,95,12,"node"],[88,14,95,16],[88,15,95,17,"prelude"],[88,22,95,12],[88,27,95,29],[88,31,95,8],[88,33,95,35],[89,0,96,12],[89,13,96,17,"chunk"],[89,18,96,12],[89,19,96,23],[89,22,96,12],[90,0,97,12],[90,13,97,17,"node"],[90,17,97,12],[90,18,97,22,"node"],[90,22,97,26],[90,23,97,27,"prelude"],[90,30,97,12],[91,0,98,9],[93,0,100,8],[93,10,100,12,"node"],[93,14,100,16],[93,15,100,17,"block"],[93,20,100,8],[93,22,100,24],[94,0,101,12],[94,13,101,17,"node"],[94,17,101,12],[94,18,101,22,"node"],[94,22,101,26],[94,23,101,27,"block"],[94,28,101,12],[95,0,102,9],[95,7,100,8],[95,13,102,15],[96,0,103,12],[96,13,103,17,"chunk"],[96,18,103,12],[96,19,103,23],[96,22,103,12],[97,0,104,9],[98,0,105,5],[98,5,28,17],[99,0,106,4,"walkContext"],[99,4,106,4,"walkContext"],[99,15,106,15],[99,17,106,17],[100,0,28,17],[100,3,28,0]]},"type":"js/module"}]}