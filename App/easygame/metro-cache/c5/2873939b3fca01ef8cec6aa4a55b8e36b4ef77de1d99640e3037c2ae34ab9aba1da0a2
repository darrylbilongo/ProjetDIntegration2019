{"dependencies":[{"name":"./adopt-buffer","data":{"isAsync":false}},{"name":"../tokenizer","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var adoptBuffer = _$$_REQUIRE(_dependencyMap[0], \"./adopt-buffer\");\n\n  var isBOM = _$$_REQUIRE(_dependencyMap[1], \"../tokenizer\").isBOM;\n\n  var N = 10;\n  var F = 12;\n  var R = 13;\n\n  function computeLinesAndColumns(host, source) {\n    var sourceLength = source.length;\n    var lines = adoptBuffer(host.lines, sourceLength);\n    var line = host.startLine;\n    var columns = adoptBuffer(host.columns, sourceLength);\n    var column = host.startColumn;\n    var startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n\n    for (var i = startOffset; i < sourceLength; i++) {\n      var code = source.charCodeAt(i);\n      lines[i] = line;\n      columns[i] = column++;\n\n      if (code === N || code === R || code === F) {\n        if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n          i++;\n          lines[i] = line;\n          columns[i] = column;\n        }\n\n        line++;\n        column = 1;\n      }\n    }\n\n    lines[i] = line;\n    columns[i] = column;\n    host.lines = lines;\n    host.columns = columns;\n  }\n\n  var OffsetToLocation = function OffsetToLocation() {\n    this.lines = null;\n    this.columns = null;\n    this.linesAndColumnsComputed = false;\n  };\n\n  OffsetToLocation.prototype = {\n    setSource: function setSource(source, startOffset, startLine, startColumn) {\n      this.source = source;\n      this.startOffset = typeof startOffset === 'undefined' ? 0 : startOffset;\n      this.startLine = typeof startLine === 'undefined' ? 1 : startLine;\n      this.startColumn = typeof startColumn === 'undefined' ? 1 : startColumn;\n      this.linesAndColumnsComputed = false;\n    },\n    ensureLinesAndColumnsComputed: function ensureLinesAndColumnsComputed() {\n      if (!this.linesAndColumnsComputed) {\n        computeLinesAndColumns(this, this.source);\n        this.linesAndColumnsComputed = true;\n      }\n    },\n    getLocation: function getLocation(offset, filename) {\n      this.ensureLinesAndColumnsComputed();\n      return {\n        source: filename,\n        offset: this.startOffset + offset,\n        line: this.lines[offset],\n        column: this.columns[offset]\n      };\n    },\n    getLocationRange: function getLocationRange(start, end, filename) {\n      this.ensureLinesAndColumnsComputed();\n      return {\n        source: filename,\n        start: {\n          offset: this.startOffset + start,\n          line: this.lines[start],\n          column: this.columns[start]\n        },\n        end: {\n          offset: this.startOffset + end,\n          line: this.lines[end],\n          column: this.columns[end]\n        }\n      };\n    }\n  };\n  module.exports = OffsetToLocation;\n});","map":[[2,0,1,0],[2,6,1,4,"adoptBuffer"],[2,17,1,15],[2,20,1,18,"require"],[2,31,1,25],[2,68,1,0],[4,0,2,0],[4,6,2,4,"isBOM"],[4,11,2,9],[4,14,2,12,"require"],[4,25,2,19],[4,60,2,12],[4,61,2,36,"isBOM"],[4,66,2,0],[6,0,4,0],[6,6,4,4,"N"],[6,7,4,5],[6,10,4,8],[6,12,4,0],[7,0,5,0],[7,6,5,4,"F"],[7,7,5,5],[7,10,5,8],[7,12,5,0],[8,0,6,0],[8,6,6,4,"R"],[8,7,6,5],[8,10,6,8],[8,12,6,0],[10,0,8,0],[10,11,8,9,"computeLinesAndColumns"],[10,33,8,0],[10,34,8,32,"host"],[10,38,8,0],[10,40,8,38,"source"],[10,46,8,0],[10,48,8,46],[11,0,9,4],[11,8,9,8,"sourceLength"],[11,20,9,20],[11,23,9,23,"source"],[11,29,9,29],[11,30,9,30,"length"],[11,36,9,4],[12,0,10,4],[12,8,10,8,"lines"],[12,13,10,13],[12,16,10,16,"adoptBuffer"],[12,27,10,27],[12,28,10,28,"host"],[12,32,10,32],[12,33,10,33,"lines"],[12,38,10,27],[12,40,10,40,"sourceLength"],[12,52,10,27],[12,53,10,4],[13,0,11,4],[13,8,11,8,"line"],[13,12,11,12],[13,15,11,15,"host"],[13,19,11,19],[13,20,11,20,"startLine"],[13,29,11,4],[14,0,12,4],[14,8,12,8,"columns"],[14,15,12,15],[14,18,12,18,"adoptBuffer"],[14,29,12,29],[14,30,12,30,"host"],[14,34,12,34],[14,35,12,35,"columns"],[14,42,12,29],[14,44,12,44,"sourceLength"],[14,56,12,29],[14,57,12,4],[15,0,13,4],[15,8,13,8,"column"],[15,14,13,14],[15,17,13,17,"host"],[15,21,13,21],[15,22,13,22,"startColumn"],[15,33,13,4],[16,0,14,4],[16,8,14,8,"startOffset"],[16,19,14,19],[16,22,14,22,"source"],[16,28,14,28],[16,29,14,29,"length"],[16,35,14,22],[16,38,14,38],[16,39,14,22],[16,42,14,42,"isBOM"],[16,47,14,47],[16,48,14,48,"source"],[16,54,14,54],[16,55,14,55,"charCodeAt"],[16,65,14,48],[16,66,14,66],[16,67,14,48],[16,68,14,47],[16,69,14,22],[16,72,14,72],[16,73,14,4],[18,0,16,4],[18,9,16,9],[18,13,16,13,"i"],[18,14,16,14],[18,17,16,17,"startOffset"],[18,28,16,4],[18,30,16,30,"i"],[18,31,16,31],[18,34,16,34,"sourceLength"],[18,46,16,4],[18,48,16,48,"i"],[18,49,16,49],[18,51,16,4],[18,53,16,53],[19,0,17,8],[19,10,17,12,"code"],[19,14,17,16],[19,17,17,19,"source"],[19,23,17,25],[19,24,17,26,"charCodeAt"],[19,34,17,19],[19,35,17,37,"i"],[19,36,17,19],[19,37,17,8],[20,0,19,8,"lines"],[20,6,19,8,"lines"],[20,11,19,13],[20,12,19,14,"i"],[20,13,19,13],[20,14,19,8],[20,17,19,19,"line"],[20,21,19,8],[21,0,20,8,"columns"],[21,6,20,8,"columns"],[21,13,20,15],[21,14,20,16,"i"],[21,15,20,15],[21,16,20,8],[21,19,20,21,"column"],[21,25,20,27],[21,27,20,8],[23,0,22,8],[23,10,22,12,"code"],[23,14,22,16],[23,19,22,21,"N"],[23,20,22,12],[23,24,22,26,"code"],[23,28,22,30],[23,33,22,35,"R"],[23,34,22,12],[23,38,22,40,"code"],[23,42,22,44],[23,47,22,49,"F"],[23,48,22,8],[23,50,22,52],[24,0,23,12],[24,12,23,16,"code"],[24,16,23,20],[24,21,23,25,"R"],[24,22,23,16],[24,26,23,30,"i"],[24,27,23,31],[24,30,23,34],[24,31,23,30],[24,34,23,38,"sourceLength"],[24,46,23,16],[24,50,23,54,"source"],[24,56,23,60],[24,57,23,61,"charCodeAt"],[24,67,23,54],[24,68,23,72,"i"],[24,69,23,73],[24,72,23,76],[24,73,23,54],[24,79,23,83,"N"],[24,80,23,12],[24,82,23,86],[25,0,24,16,"i"],[25,10,24,16,"i"],[25,11,24,17],[26,0,25,16,"lines"],[26,10,25,16,"lines"],[26,15,25,21],[26,16,25,22,"i"],[26,17,25,21],[26,18,25,16],[26,21,25,27,"line"],[26,25,25,16],[27,0,26,16,"columns"],[27,10,26,16,"columns"],[27,17,26,23],[27,18,26,24,"i"],[27,19,26,23],[27,20,26,16],[27,23,26,29,"column"],[27,29,26,16],[28,0,27,13],[30,0,29,12,"line"],[30,8,29,12,"line"],[30,12,29,16],[31,0,30,12,"column"],[31,8,30,12,"column"],[31,14,30,18],[31,17,30,21],[31,18,30,12],[32,0,31,9],[33,0,32,5],[35,0,34,4,"lines"],[35,4,34,4,"lines"],[35,9,34,9],[35,10,34,10,"i"],[35,11,34,9],[35,12,34,4],[35,15,34,15,"line"],[35,19,34,4],[36,0,35,4,"columns"],[36,4,35,4,"columns"],[36,11,35,11],[36,12,35,12,"i"],[36,13,35,11],[36,14,35,4],[36,17,35,17,"column"],[36,23,35,4],[37,0,37,4,"host"],[37,4,37,4,"host"],[37,8,37,8],[37,9,37,9,"lines"],[37,14,37,4],[37,17,37,17,"lines"],[37,22,37,4],[38,0,38,4,"host"],[38,4,38,4,"host"],[38,8,38,8],[38,9,38,9,"columns"],[38,16,38,4],[38,19,38,19,"columns"],[38,26,38,4],[39,0,39,1],[41,0,41,0],[41,6,41,4,"OffsetToLocation"],[41,22,41,20],[41,25,41,23],[41,34,41,4,"OffsetToLocation"],[41,50,41,23],[41,53,41,34],[42,0,42,4],[42,9,42,9,"lines"],[42,14,42,4],[42,17,42,17],[42,21,42,4],[43,0,43,4],[43,9,43,9,"columns"],[43,16,43,4],[43,19,43,19],[43,23,43,4],[44,0,44,4],[44,9,44,9,"linesAndColumnsComputed"],[44,32,44,4],[44,35,44,35],[44,40,44,4],[45,0,45,1],[45,3,41,0],[47,0,47,0,"OffsetToLocation"],[47,2,47,0,"OffsetToLocation"],[47,18,47,16],[47,19,47,17,"prototype"],[47,28,47,0],[47,31,47,29],[48,0,48,4,"setSource"],[48,4,48,4,"setSource"],[48,13,48,13],[48,15,48,15],[48,34,48,24,"source"],[48,40,48,15],[48,42,48,32,"startOffset"],[48,53,48,15],[48,55,48,45,"startLine"],[48,64,48,15],[48,66,48,56,"startColumn"],[48,77,48,15],[48,79,48,69],[49,0,49,8],[49,11,49,13,"source"],[49,17,49,8],[49,20,49,22,"source"],[49,26,49,8],[50,0,50,8],[50,11,50,13,"startOffset"],[50,22,50,8],[50,25,50,27],[50,32,50,34,"startOffset"],[50,43,50,27],[50,48,50,50],[50,59,50,27],[50,62,50,64],[50,63,50,27],[50,66,50,68,"startOffset"],[50,77,50,8],[51,0,51,8],[51,11,51,13,"startLine"],[51,20,51,8],[51,23,51,25],[51,30,51,32,"startLine"],[51,39,51,25],[51,44,51,46],[51,55,51,25],[51,58,51,60],[51,59,51,25],[51,62,51,64,"startLine"],[51,71,51,8],[52,0,52,8],[52,11,52,13,"startColumn"],[52,22,52,8],[52,25,52,27],[52,32,52,34,"startColumn"],[52,43,52,27],[52,48,52,50],[52,59,52,27],[52,62,52,64],[52,63,52,27],[52,66,52,68,"startColumn"],[52,77,52,8],[53,0,53,8],[53,11,53,13,"linesAndColumnsComputed"],[53,34,53,8],[53,37,53,39],[53,42,53,8],[54,0,54,5],[54,5,47,29],[55,0,56,4,"ensureLinesAndColumnsComputed"],[55,4,56,4,"ensureLinesAndColumnsComputed"],[55,33,56,33],[55,35,56,35],[55,76,56,46],[56,0,57,8],[56,10,57,12],[56,11,57,13],[56,16,57,18,"linesAndColumnsComputed"],[56,39,57,8],[56,41,57,43],[57,0,58,12,"computeLinesAndColumns"],[57,8,58,12,"computeLinesAndColumns"],[57,30,58,34],[57,31,58,35],[57,35,58,34],[57,37,58,41],[57,42,58,46,"source"],[57,48,58,34],[57,49,58,12],[58,0,59,12],[58,13,59,17,"linesAndColumnsComputed"],[58,36,59,12],[58,39,59,43],[58,43,59,12],[59,0,60,9],[60,0,61,5],[60,5,47,29],[61,0,62,4,"getLocation"],[61,4,62,4,"getLocation"],[61,15,62,15],[61,17,62,17],[61,38,62,26,"offset"],[61,44,62,17],[61,46,62,34,"filename"],[61,54,62,17],[61,56,62,44],[62,0,63,8],[62,11,63,13,"ensureLinesAndColumnsComputed"],[62,40,63,8],[63,0,65,8],[63,13,65,15],[64,0,66,12,"source"],[64,8,66,12,"source"],[64,14,66,18],[64,16,66,20,"filename"],[64,24,65,15],[65,0,67,12,"offset"],[65,8,67,12,"offset"],[65,14,67,18],[65,16,67,20],[65,21,67,25,"startOffset"],[65,32,67,20],[65,35,67,39,"offset"],[65,41,65,15],[66,0,68,12,"line"],[66,8,68,12,"line"],[66,12,68,16],[66,14,68,18],[66,19,68,23,"lines"],[66,24,68,18],[66,25,68,29,"offset"],[66,31,68,18],[66,32,65,15],[67,0,69,12,"column"],[67,8,69,12,"column"],[67,14,69,18],[67,16,69,20],[67,21,69,25,"columns"],[67,28,69,20],[67,29,69,33,"offset"],[67,35,69,20],[68,0,65,15],[68,7,65,8],[69,0,71,5],[69,5,47,29],[70,0,72,4,"getLocationRange"],[70,4,72,4,"getLocationRange"],[70,20,72,20],[70,22,72,22],[70,48,72,31,"start"],[70,53,72,22],[70,55,72,38,"end"],[70,58,72,22],[70,60,72,43,"filename"],[70,68,72,22],[70,70,72,53],[71,0,73,8],[71,11,73,13,"ensureLinesAndColumnsComputed"],[71,40,73,8],[72,0,75,8],[72,13,75,15],[73,0,76,12,"source"],[73,8,76,12,"source"],[73,14,76,18],[73,16,76,20,"filename"],[73,24,75,15],[74,0,77,12,"start"],[74,8,77,12,"start"],[74,13,77,17],[74,15,77,19],[75,0,78,16,"offset"],[75,10,78,16,"offset"],[75,16,78,22],[75,18,78,24],[75,23,78,29,"startOffset"],[75,34,78,24],[75,37,78,43,"start"],[75,42,77,19],[76,0,79,16,"line"],[76,10,79,16,"line"],[76,14,79,20],[76,16,79,22],[76,21,79,27,"lines"],[76,26,79,22],[76,27,79,33,"start"],[76,32,79,22],[76,33,77,19],[77,0,80,16,"column"],[77,10,80,16,"column"],[77,16,80,22],[77,18,80,24],[77,23,80,29,"columns"],[77,30,80,24],[77,31,80,37,"start"],[77,36,80,24],[78,0,77,19],[78,9,75,15],[79,0,82,12,"end"],[79,8,82,12,"end"],[79,11,82,15],[79,13,82,17],[80,0,83,16,"offset"],[80,10,83,16,"offset"],[80,16,83,22],[80,18,83,24],[80,23,83,29,"startOffset"],[80,34,83,24],[80,37,83,43,"end"],[80,40,82,17],[81,0,84,16,"line"],[81,10,84,16,"line"],[81,14,84,20],[81,16,84,22],[81,21,84,27,"lines"],[81,26,84,22],[81,27,84,33,"end"],[81,30,84,22],[81,31,82,17],[82,0,85,16,"column"],[82,10,85,16,"column"],[82,16,85,22],[82,18,85,24],[82,23,85,29,"columns"],[82,30,85,24],[82,31,85,37,"end"],[82,34,85,24],[83,0,82,17],[84,0,75,15],[84,7,75,8],[85,0,88,5],[86,0,47,29],[86,3,47,0],[87,0,91,0,"module"],[87,2,91,0,"module"],[87,8,91,6],[87,9,91,7,"exports"],[87,16,91,0],[87,19,91,17,"OffsetToLocation"],[87,35,91,0]]},"type":"js/module"}]}