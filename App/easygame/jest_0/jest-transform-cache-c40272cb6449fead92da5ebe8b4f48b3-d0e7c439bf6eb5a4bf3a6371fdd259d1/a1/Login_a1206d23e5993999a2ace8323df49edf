b7113e354d124ad4d1c24965e00efcc3
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _react = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _Welcome = _interopRequireDefault(require("../Accueil/Welcome"));

var _reactNativeReanimated = _interopRequireWildcard(require("react-native-reanimated"));

var _reactNativeGestureHandler = require("react-native-gesture-handler");

var _reactNativeSvg = _interopRequireWildcard(require("react-native-svg"));

var _styles = _interopRequireDefault(require("./styles"));

var _NavigationService = _interopRequireDefault(require("../Navigation/NavigationService"));

var _verifierDonnees = _interopRequireDefault(require("./verifierDonnees"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var _Dimensions$get = _reactNative.Dimensions.get('window'),
    width = _Dimensions$get.width,
    height = _Dimensions$get.height;

var Value = _reactNativeReanimated.default.Value,
    concat = _reactNativeReanimated.default.concat,
    event = _reactNativeReanimated.default.event,
    clockRunning = _reactNativeReanimated.default.clockRunning,
    timing = _reactNativeReanimated.default.timing,
    debug = _reactNativeReanimated.default.debug,
    stopClock = _reactNativeReanimated.default.stopClock,
    startClock = _reactNativeReanimated.default.startClock,
    Clock = _reactNativeReanimated.default.Clock,
    block = _reactNativeReanimated.default.block,
    cond = _reactNativeReanimated.default.cond,
    eq = _reactNativeReanimated.default.eq,
    Extrapolate = _reactNativeReanimated.default.Extrapolate,
    interpolate = _reactNativeReanimated.default.interpolate,
    set = _reactNativeReanimated.default.set;

var Login = function (_Component) {
  (0, _inherits2.default)(Login, _Component);

  function Login() {
    var _this;

    (0, _classCallCheck2.default)(this, Login);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Login).call(this));

    _this.login = function _callee() {
      var response;
      return _regenerator.default.async(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return _regenerator.default.awrap(fetch('http://192.168.1.122:5000/users/login', {
                method: 'POST',
                headers: {
                  'Accept': 'application/json',
                  'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                  email: _this.state.userEmail,
                  motDePasse: _this.state.userPassword
                })
              }));

            case 3:
              response = _context.sent;
              _context.next = 6;
              return _regenerator.default.awrap(response.json());

            case 6:
              _this.state.responseAPI = _context.sent;
              _this.state.isLoading = false;
              _context.next = 13;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context["catch"](0);
              console.log(_context.t0);

            case 13:
            case "end":
              return _context.stop();
          }
        }
      }, null, null, [[0, 10]]);
    };

    _this.myValidate = function () {
      var _this$state = _this.state,
          userEmail = _this$state.userEmail,
          userPassword = _this$state.userPassword;

      if ((0, _verifierDonnees.default)(userEmail, userPassword)) {
        _this.login();

        if (_this.state.responseAPI.message == 'Utilisateur existant: Connexion reussie!!!') {
          _this.state.userPassword = '';
          _this.state.userEmail = '';
          global.utilisateur = _this.state.responseAPI.utilisateur;

          _NavigationService.default.navigate('Profile');
        } else if (_this.state.responseAPI.message != '') _reactNative.Alert.alert(_this.state.responseAPI.message);
      } else _reactNative.Alert.alert("Veuillez remplir votre mail et votre mot de passe");
    };

    _this.stopAction = function (e) {
      e.stopPropagation();
    };

    global.utilisateur = {};
    _this.state = {
      userEmail: "",
      userPassword: "",
      responseAPI: "",
      isLoading: true
    };
    _this.viewOpacity = new Value(1);
    _this.buttonOpacity = new Value(1);
    _this.onStateChange = event([{
      nativeEvent: function nativeEvent(_ref) {
        var state = _ref.state;
        return block([cond(eq(state, _reactNativeGestureHandler.State.END), set(_this.buttonOpacity, runTiming(new Clock(), 1, 0)))]);
      }
    }]);
    _this.onStateChangeView = event([{
      nativeEvent: function nativeEvent(_ref2) {
        var state = _ref2.state;
        return block([cond(eq(state, _reactNativeGestureHandler.State.END), set(_this.viewOpacity, runTiming(new Clock(), 1, 0)))]);
      }
    }]);
    _this.onCloseState = event([{
      nativeEvent: function nativeEvent(_ref3) {
        var state = _ref3.state;
        return block([cond(eq(state, _reactNativeGestureHandler.State.END), set(_this.buttonOpacity, runTiming(new Clock(), 0, 1)))]);
      }
    }]);
    _this.buttonY = interpolate(_this.buttonOpacity, {
      inputRange: [0, 1],
      outputRange: [100, 0],
      extrapolate: Extrapolate.CLAMP
    });
    _this.bgY = interpolate(_this.buttonOpacity, {
      inputRange: [0, 1],
      outputRange: [-height / 2 - 50, 0],
      extrapolate: Extrapolate.CLAMP
    });
    _this.textInputZindex = interpolate(_this.buttonOpacity, {
      inputRange: [0, 1],
      outputRange: [1, -1],
      extrapolate: Extrapolate.CLAMP
    });
    _this.textInputY = interpolate(_this.buttonOpacity, {
      inputRange: [0, 1],
      outputRange: [0, 300],
      extrapolate: Extrapolate.CLAMP
    });
    _this.textInputOpacity = interpolate(_this.buttonOpacity, {
      inputRange: [0, 1],
      outputRange: [1, 0],
      extrapolate: Extrapolate.CLAMP
    });
    _this.viewX = interpolate(_this.viewOpacity, {
      inputRange: [0, 1],
      outputRange: [width, 0],
      extrapolate: Extrapolate.CLAMP
    });
    _this.rotateCross = interpolate(_this.buttonOpacity, {
      inputRange: [0, 1],
      outputRange: [180, 360],
      extrapolate: Extrapolate.CLAMP
    });
    return _this;
  }

  (0, _createClass2.default)(Login, [{
    key: "inputFocused",
    value: function inputFocused(refName) {
      var _this2 = this;

      setTimeout(function () {
        var scrollResponder = _this2.refs.scrollView.getScrollResponder();

        scrollResponder.scrollResponderScrollNativeHandleToKeyboard(_react.default.findNodeHandle(_this2.refs[refName]), 110, true);
      }, 50);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      if (this.state.isLoading) {}

      return _react.default.createElement(_reactNative.View, {
        style: myContainer.container
      }, _react.default.createElement(_reactNativeReanimated.default.View, {
        style: _objectSpread({}, myContainer.container, {
          opacity: this.viewOpacity,
          transform: [{
            translateX: this.viewX
          }]
        })
      }, _react.default.createElement(_reactNativeReanimated.default.View, {
        style: _objectSpread({}, _reactNative.StyleSheet.absoluteFill, {
          transform: [{
            translateY: this.bgY
          }]
        })
      }, _react.default.createElement(_reactNativeSvg.default, {
        height: height + 50,
        width: width
      }, _react.default.createElement(_reactNativeSvg.ClipPath, {
        id: "clip"
      }, _react.default.createElement(_reactNativeSvg.Circle, {
        r: height + 50,
        cx: width / 2
      })), _react.default.createElement(_reactNativeSvg.Image, {
        href: require("../../images/feuille.jpg"),
        width: width,
        height: height + 50,
        preserveAspectRatio: "xMidYMid slice",
        clipPath: "url(#clip)"
      }))), _react.default.createElement(_reactNative.View, {
        style: {
          height: height / 2,
          justifyContent: 'center',
          marginVertical: 30
        }
      }, _react.default.createElement(_Welcome.default, null), _react.default.createElement(_reactNativeGestureHandler.TapGestureHandler, {
        onHandlerStateChange: this.onStateChange
      }, _react.default.createElement(_reactNativeReanimated.default.View, {
        style: _objectSpread({}, _styles.default.button, {
          backgroundColor: 'white',
          opacity: this.buttonOpacity,
          transform: [{
            translateY: this.buttonY
          }]
        })
      }, _react.default.createElement(_reactNative.Text, {
        style: {
          fontSize: 20,
          fontWeight: 'bold'
        }
      }, "Se connecter"))), _react.default.createElement(_reactNativeGestureHandler.TapGestureHandler, {
        onHandlerStateChange: function onHandlerStateChange() {
          _NavigationService.default.navigate('Register');
        }
      }, _react.default.createElement(_reactNativeReanimated.default.View, {
        style: _objectSpread({}, _styles.default.button, {
          backgroundColor: '#003d00',
          opacity: this.buttonOpacity,
          transform: [{
            translateY: this.buttonY
          }]
        })
      }, _react.default.createElement(_reactNative.Text, {
        style: {
          fontSize: 20,
          fontWeight: 'bold',
          color: 'white'
        }
      }, "Cr\xE9er un compte"))), _react.default.createElement(_reactNativeReanimated.default.View, {
        style: _objectSpread({
          height: height / 2
        }, _reactNative.StyleSheet.absoluteFill, {
          top: null,
          justifyContent: 'center',
          zIndex: this.textInputZindex,
          opacity: this.textInputOpacity,
          transform: [{
            translateY: this.textInputY
          }]
        })
      }, _react.default.createElement(_reactNativeGestureHandler.TapGestureHandler, {
        onHandlerStateChange: this.onCloseState
      }, _react.default.createElement(_reactNativeReanimated.default.View, {
        style: _styles.default.closeButton
      }, _react.default.createElement(_reactNativeReanimated.default.Text, {
        style: {
          fontSize: 15,
          color: 'black',
          fontWeight: 'bold',
          transform: [{
            rotate: concat(this.rotateCross, 'deg')
          }]
        }
      }, "X"))), _react.default.createElement(_reactNative.TextInput, {
        placeholder: "email",
        style: _styles.default.textInput,
        placeholderTextColor: "black",
        keyboardType: 'email-address',
        onChangeText: function onChangeText(userEmail) {
          return _this3.setState({
            userEmail: userEmail
          });
        },
        autoCapitalize: "none",
        returnKeyType: "next"
      }), _react.default.createElement(_reactNative.TextInput, {
        placeholder: "mot de passe",
        style: _styles.default.textInput,
        secureTextEntry: true,
        placeholderTextColor: "black",
        autoCapitalize: "none",
        onChangeText: function onChangeText(userPassword) {
          return _this3.setState({
            userPassword: userPassword
          });
        },
        keyboardType: 'default'
      }), _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity, {
        style: _objectSpread({}, _styles.default.button, {
          backgroundColor: '#003d00'
        }),
        onPress: this.myValidate
      }, _react.default.createElement(_reactNative.Text, {
        style: {
          fontSize: 20,
          fontWeight: 'bold',
          color: 'white'
        }
      }, "Connexion"))))));
    }
  }]);
  return Login;
}(_react.Component);

exports.default = Login;

function runTiming(clock, value, dest) {
  var state = {
    finished: new Value(0),
    position: new Value(0),
    time: new Value(0),
    frameTime: new Value(0)
  };
  var config = {
    duration: 1000,
    toValue: new Value(0),
    easing: _reactNativeReanimated.Easing.inOut(_reactNativeReanimated.Easing.ease)
  };
  return block([cond(clockRunning(clock), 0, [set(state.finished, 0), set(state.time, 0), set(state.position, value), set(state.frameTime, 0), set(config.toValue, dest), startClock(clock)]), timing(clock, state, config), cond(state.finished, debug('stop clock', stopClock(clock))), state.position]);
}

var myContainer = _reactNative.StyleSheet.create({
  container: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'flex-end',
    height: height,
    width: width
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvZ2luLmpzIl0sIm5hbWVzIjpbIkRpbWVuc2lvbnMiLCJnZXQiLCJ3aWR0aCIsImhlaWdodCIsIlZhbHVlIiwiQW5pbWF0ZWQiLCJjb25jYXQiLCJldmVudCIsImNsb2NrUnVubmluZyIsInRpbWluZyIsImRlYnVnIiwic3RvcENsb2NrIiwic3RhcnRDbG9jayIsIkNsb2NrIiwiYmxvY2siLCJjb25kIiwiZXEiLCJFeHRyYXBvbGF0ZSIsImludGVycG9sYXRlIiwic2V0IiwiTG9naW4iLCJsb2dpbiIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZW1haWwiLCJzdGF0ZSIsInVzZXJFbWFpbCIsIm1vdERlUGFzc2UiLCJ1c2VyUGFzc3dvcmQiLCJyZXNwb25zZSIsImpzb24iLCJyZXNwb25zZUFQSSIsImlzTG9hZGluZyIsImNvbnNvbGUiLCJsb2ciLCJteVZhbGlkYXRlIiwibWVzc2FnZSIsImdsb2JhbCIsInV0aWxpc2F0ZXVyIiwiTmF2aWdhdGlvblNlcnZpY2UiLCJuYXZpZ2F0ZSIsIkFsZXJ0IiwiYWxlcnQiLCJzdG9wQWN0aW9uIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsInZpZXdPcGFjaXR5IiwiYnV0dG9uT3BhY2l0eSIsIm9uU3RhdGVDaGFuZ2UiLCJuYXRpdmVFdmVudCIsIlN0YXRlIiwiRU5EIiwicnVuVGltaW5nIiwib25TdGF0ZUNoYW5nZVZpZXciLCJvbkNsb3NlU3RhdGUiLCJidXR0b25ZIiwiaW5wdXRSYW5nZSIsIm91dHB1dFJhbmdlIiwiZXh0cmFwb2xhdGUiLCJDTEFNUCIsImJnWSIsInRleHRJbnB1dFppbmRleCIsInRleHRJbnB1dFkiLCJ0ZXh0SW5wdXRPcGFjaXR5Iiwidmlld1giLCJyb3RhdGVDcm9zcyIsInJlZk5hbWUiLCJzZXRUaW1lb3V0Iiwic2Nyb2xsUmVzcG9uZGVyIiwicmVmcyIsInNjcm9sbFZpZXciLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwiUmVhY3QiLCJmaW5kTm9kZUhhbmRsZSIsIm15Q29udGFpbmVyIiwiY29udGFpbmVyIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJTdHlsZVNoZWV0IiwiYWJzb2x1dGVGaWxsIiwidHJhbnNsYXRlWSIsInJlcXVpcmUiLCJqdXN0aWZ5Q29udGVudCIsIm1hcmdpblZlcnRpY2FsIiwic3R5bGVzIiwiYnV0dG9uIiwiYmFja2dyb3VuZENvbG9yIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJ0b3AiLCJ6SW5kZXgiLCJjbG9zZUJ1dHRvbiIsInJvdGF0ZSIsInRleHRJbnB1dCIsInNldFN0YXRlIiwiQ29tcG9uZW50IiwiY2xvY2siLCJ2YWx1ZSIsImRlc3QiLCJmaW5pc2hlZCIsInBvc2l0aW9uIiwidGltZSIsImZyYW1lVGltZSIsImNvbmZpZyIsImR1cmF0aW9uIiwidG9WYWx1ZSIsImVhc2luZyIsIkVhc2luZyIsImluT3V0IiwiZWFzZSIsImNyZWF0ZSIsImZsZXgiLCJhbGlnbkl0ZW1zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7c0JBRTBCQSx3QkFBV0MsR0FBWCxDQUFlLFFBQWYsQztJQUFsQkMsSyxtQkFBQUEsSztJQUFPQyxNLG1CQUFBQSxNOztJQUVSQyxLLEdBQW1JQyw4QixDQUFuSUQsSztJQUFPRSxNLEdBQTRIRCw4QixDQUE1SEMsTTtJQUFRQyxLLEdBQW9IRiw4QixDQUFwSEUsSztJQUFPQyxZLEdBQTZHSCw4QixDQUE3R0csWTtJQUFjQyxNLEdBQStGSiw4QixDQUEvRkksTTtJQUFRQyxLLEdBQXVGTCw4QixDQUF2RkssSztJQUFPQyxTLEdBQWdGTiw4QixDQUFoRk0sUztJQUFXQyxVLEdBQXFFUCw4QixDQUFyRU8sVTtJQUFZQyxLLEdBQXlEUiw4QixD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QVUsRUFBRSxRQUZMO0FBR1AvQixJQUFBQSxjQUFjLEVBQUUsVUFIVDtBQUlQckYsSUFBQUEsTUFBTSxFQUFDQSxNQUpBO0FBS1BELElBQUFBLEtBQUssRUFBRUE7QUFMQTtBQUR1QixDQUFsQixDQUFwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVTaGVldCwgVGV4dCwgVmlldywgRGltZW5zaW9ucywgVGV4dElucHV0LCBBbGVydCx9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgV2VsY29tZSBmcm9tICcuLi9BY2N1ZWlsL1dlbGNvbWUnO1xuaW1wb3J0IEFuaW1hdGVkLCB7RWFzaW5nfSBmcm9tIFwicmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWRcIjtcbmltcG9ydCB7VGFwR2VzdHVyZUhhbmRsZXIsIFN0YXRlLCBUb3VjaGFibGVPcGFjaXR5fSBmcm9tICdyZWFjdC1uYXRpdmUtZ2VzdHVyZS1oYW5kbGVyJztcbmltcG9ydCBTdmcsIHtJbWFnZSwgQ2lyY2xlLCBDbGlwUGF0aH0gZnJvbSAncmVhY3QtbmF0aXZlLXN2Zyc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzJztcbmltcG9ydCBOYXZpZ2F0aW9uU2VydmljZSBmcm9tICcuLi9OYXZpZ2F0aW9uL05hdmlnYXRpb25TZXJ2aWNlJztcbmltcG9ydCB2ZXJpZmllckRvbm5lZXMgZnJvbSAnLi92ZXJpZmllckRvbm5lZXMnO1xuXG5jb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKTtcblxuY29uc3Qge1ZhbHVlICxjb25jYXQsIGV2ZW50LCBjbG9ja1J1bm5pbmcsIHRpbWluZywgZGVidWcsIHN0b3BDbG9jaywgc3RhcnRDbG9jaywgQ2xvY2ssIGJsb2NrLCBjb25kLCBlcSwgRXh0cmFwb2xhdGUsIGludGVycG9sYXRlLCBzZXR9ID0gQW5pbWF0ZWQ7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG5cbiAgICBnbG9iYWwudXRpbGlzYXRldXIgPSB7fTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VyRW1haWw6IFwiXCIsXG4gICAgICB1c2VyUGFzc3dvcmQ6IFwiXCIsXG4gICAgICByZXNwb25zZUFQSTogXCJcIixcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH1cblxuICAgIHRoaXMudmlld09wYWNpdHkgPSBuZXcgVmFsdWUoMSk7XG5cbiAgICB0aGlzLmJ1dHRvbk9wYWNpdHkgPSBuZXcgVmFsdWUoMSk7XG4gICAgXG5cbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UgPSBldmVudChbXG4gICAgICB7XG4gICAgICAgIG5hdGl2ZUV2ZW50OiAoe3N0YXRlfSk9PmJsb2NrKFtcbiAgICAgICAgICBjb25kKGVxKHN0YXRlLCBTdGF0ZS5FTkQpLCBzZXQodGhpcy5idXR0b25PcGFjaXR5LCBydW5UaW1pbmcobmV3IENsb2NrKCksIDEsIDApKSlcbiAgICAgICAgXSlcbiAgICAgIH1cbiAgICBdKTtcblxuICAgIHRoaXMub25TdGF0ZUNoYW5nZVZpZXcgPSBldmVudChbXG4gICAgICB7XG4gICAgICAgIG5hdGl2ZUV2ZW50OiAoe3N0YXRlfSk9PmJsb2NrKFtcbiAgICAgICAgICBjb25kKGVxKHN0YXRlLCBTdGF0ZS5FTkQpLCBzZXQodGhpcy52aWV3T3BhY2l0eSwgcnVuVGltaW5nKG5ldyBDbG9jaygpLCAxLCAwKSkpXG4gICAgICAgIF0pXG4gICAgICB9XG4gICAgXSk7XG5cbiAgICB0aGlzLm9uQ2xvc2VTdGF0ZSA9IGV2ZW50KFtcbiAgICAgIHtcbiAgICAgICAgbmF0aXZlRXZlbnQ6ICh7c3RhdGV9KT0+YmxvY2soW1xuICAgICAgICAgIGNvbmQoZXEoc3RhdGUsIFN0YXRlLkVORCksIHNldCh0aGlzLmJ1dHRvbk9wYWNpdHksIHJ1blRpbWluZyhuZXcgQ2xvY2soKSwgMCwgMSkpKVxuICAgICAgICBdKVxuICAgICAgfVxuICAgIF0pO1xuXG4gICAgdGhpcy5idXR0b25ZID0gaW50ZXJwb2xhdGUodGhpcy5idXR0b25PcGFjaXR5LCB7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWzEwMCwgMF0sXG4gICAgICBleHRyYXBvbGF0ZTogRXh0cmFwb2xhdGUuQ0xBTVBcbiAgICB9KTtcblxuICAgIHRoaXMuYmdZID0gaW50ZXJwb2xhdGUodGhpcy5idXR0b25PcGFjaXR5LCB7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWy0gaGVpZ2h0LzIgLTUwLCAwXSxcbiAgICAgIGV4dHJhcG9sYXRlOiBFeHRyYXBvbGF0ZS5DTEFNUFxuICAgIH0pO1xuXG4gICAgdGhpcy50ZXh0SW5wdXRaaW5kZXggPSBpbnRlcnBvbGF0ZSh0aGlzLmJ1dHRvbk9wYWNpdHksIHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMSwgLTFdLFxuICAgICAgZXh0cmFwb2xhdGU6IEV4dHJhcG9sYXRlLkNMQU1QXG4gICAgfSk7XG5cbiAgICB0aGlzLnRleHRJbnB1dFkgPSBpbnRlcnBvbGF0ZSh0aGlzLmJ1dHRvbk9wYWNpdHksIHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMzAwXSxcbiAgICAgIGV4dHJhcG9sYXRlOiBFeHRyYXBvbGF0ZS5DTEFNUFxuICAgIH0pO1xuICAgIFxuICAgIHRoaXMudGV4dElucHV0T3BhY2l0eSA9IGludGVycG9sYXRlKHRoaXMuYnV0dG9uT3BhY2l0eSwge1xuICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgb3V0cHV0UmFuZ2U6IFsxLCAwXSxcbiAgICAgIGV4dHJhcG9sYXRlOiBFeHRyYXBvbGF0ZS5DTEFNUFxuICAgIH0pO1xuXG4gICAgdGhpcy52aWV3WCA9IGludGVycG9sYXRlKHRoaXMudmlld09wYWNpdHksIHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbd2lkdGgsIDBdLFxuICAgICAgZXh0cmFwb2xhdGU6IEV4dHJhcG9sYXRlLkNMQU1QXG4gICAgfSk7XG5cbiAgICB0aGlzLnJvdGF0ZUNyb3NzID0gaW50ZXJwb2xhdGUodGhpcy5idXR0b25PcGFjaXR5LCB7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWzE4MCwgMzYwXSxcbiAgICAgIGV4dHJhcG9sYXRlOiBFeHRyYXBvbGF0ZS5DTEFNUFxuICAgIH0pO1xuICB9XG5cblxuICBsb2dpbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnl7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vMTkyLjE2OC4xLjEyMjo1MDAwL3VzZXJzL2xvZ2luJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLnVzZXJFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW90RGVQYXNzZTogdGhpcy5zdGF0ZS51c2VyUGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgIFxuICAgICAgdGhpcy5zdGF0ZS5yZXNwb25zZUFQSSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgXG4gICAgICB0aGlzLnN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3Ipe1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgfVxuXG4gIG15VmFsaWRhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge3VzZXJFbWFpbCwgdXNlclBhc3N3b3JkfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYodmVyaWZpZXJEb25uZWVzKHVzZXJFbWFpbCwgdXNlclBhc3N3b3JkKSl7XG4gICAgICB0aGlzLmxvZ2luKCk7XG4gICAgICBpZih0aGlzLnN0YXRlLnJlc3BvbnNlQVBJLm1lc3NhZ2UgPT0gJ1V0aWxpc2F0ZXVyIGV4aXN0YW50OiBDb25uZXhpb24gcmV1c3NpZSEhIScpe1xuICAgICAgICB0aGlzLnN0YXRlLnVzZXJQYXNzd29yZCA9ICcnO1xuICAgICAgICB0aGlzLnN0YXRlLnVzZXJFbWFpbCA9ICcnO1xuICAgICAgICBnbG9iYWwudXRpbGlzYXRldXIgPSB0aGlzLnN0YXRlLnJlc3BvbnNlQVBJLnV0aWxpc2F0ZXVyO1xuICAgICAgICBOYXZpZ2F0aW9uU2VydmljZS5uYXZpZ2F0ZSgnUHJvZmlsZScpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZih0aGlzLnN0YXRlLnJlc3BvbnNlQVBJLm1lc3NhZ2UgIT0gJycpXG4gICAgICAgIEFsZXJ0LmFsZXJ0KHRoaXMuc3RhdGUucmVzcG9uc2VBUEkubWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgIEFsZXJ0LmFsZXJ0KFwiVmV1aWxsZXogcmVtcGxpciB2b3RyZSBtYWlsIGV0IHZvdHJlIG1vdCBkZSBwYXNzZVwiKTtcbiAgfVxuXG4gIHN0b3BBY3Rpb24gPSAoZSkgPT57XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIGlucHV0Rm9jdXNlZCAocmVmTmFtZSkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGV0IHNjcm9sbFJlc3BvbmRlciA9IHRoaXMucmVmcy5zY3JvbGxWaWV3LmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgICAgc2Nyb2xsUmVzcG9uZGVyLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQoXG4gICAgICAgIFJlYWN0LmZpbmROb2RlSGFuZGxlKHRoaXMucmVmc1tyZWZOYW1lXSksXG4gICAgICAgIDExMCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9LCA1MCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5pc0xvYWRpbmcpe31cbiAgICBcbiAgICByZXR1cm4gKFxuICAgIDxWaWV3IHN0eWxlPXtteUNvbnRhaW5lci5jb250YWluZXJ9PlxuICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17ey4uLm15Q29udGFpbmVyLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy52aWV3T3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBbe3RyYW5zbGF0ZVg6IHRoaXMudmlld1h9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgPEFuaW1hdGVkLlZpZXcgc3R5bGU9e3suLi5TdHlsZVNoZWV0LmFic29sdXRlRmlsbCwgdHJhbnNmb3JtOiBbe3RyYW5zbGF0ZVk6IHRoaXMuYmdZfV19fT5cbiAgICAgICAgICAgICAgPFN2ZyBoZWlnaHQ9e2hlaWdodCs1MH0gd2lkdGg9e3dpZHRofT5cbiAgICAgICAgICAgICAgICA8Q2xpcFBhdGggaWQ9J2NsaXAnPlxuICAgICAgICAgICAgICAgICAgPENpcmNsZSByPXtoZWlnaHQrNTB9IGN4PXt3aWR0aCAvIDJ9IC8+XG4gICAgICAgICAgICAgICAgPC9DbGlwUGF0aD5cbiAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICBocmVmPXtyZXF1aXJlKFwiLi4vLi4vaW1hZ2VzL2ZldWlsbGUuanBnXCIpfVxuICAgICAgICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHQrNTB9XG4gICAgICAgICAgICAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgc2xpY2VcIlxuICAgICAgICAgICAgICAgICAgY2xpcFBhdGg9XCJ1cmwoI2NsaXApXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Tdmc+XG4gICAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuXG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3sgaGVpZ2h0OiBoZWlnaHQgLyAyLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicgLCBtYXJnaW5WZXJ0aWNhbDozMCB9fT5cbiAgICAgICAgICA8V2VsY29tZSAvPlxuICAgICAgICAgICAgPFRhcEdlc3R1cmVIYW5kbGVyIG9uSGFuZGxlclN0YXRlQ2hhbmdlPXt0aGlzLm9uU3RhdGVDaGFuZ2V9PlxuICAgICAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdHlsZXMuYnV0dG9uLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLmJ1dHRvbk9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogW3t0cmFuc2xhdGVZOiB0aGlzLmJ1dHRvbll9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3sgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiAnYm9sZCcgfX0+U2UgY29ubmVjdGVyPC9UZXh0PlxuICAgICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgICA8L1RhcEdlc3R1cmVIYW5kbGVyPlxuICAgICAgICAgICAgPFRhcEdlc3R1cmVIYW5kbGVyIG9uSGFuZGxlclN0YXRlQ2hhbmdlPXsoKT0+e05hdmlnYXRpb25TZXJ2aWNlLm5hdmlnYXRlKCdSZWdpc3RlcicpO319PlxuICAgICAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVzLmJ1dHRvbiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDNkMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLmJ1dHRvbk9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogW3t0cmFuc2xhdGVZOiB0aGlzLmJ1dHRvbll9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3sgZm9udFNpemU6IDIwLCBmb250V2VpZ2h0OiAnYm9sZCcsIGNvbG9yOiAnd2hpdGUnIH19PlxuICAgICAgICAgICAgICAgICAgICBDcsOpZXIgdW4gY29tcHRlXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgICA8L1RhcEdlc3R1cmVIYW5kbGVyPlxuXG4gICAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17e2hlaWdodDpoZWlnaHQvMiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5TdHlsZVNoZWV0LmFic29sdXRlRmlsbCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6bnVsbCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDonY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogdGhpcy50ZXh0SW5wdXRaaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLnRleHRJbnB1dE9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06W3t0cmFuc2xhdGVZOiB0aGlzLnRleHRJbnB1dFl9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICA8VGFwR2VzdHVyZUhhbmRsZXIgb25IYW5kbGVyU3RhdGVDaGFuZ2U9e3RoaXMub25DbG9zZVN0YXRlfT5cbiAgICAgICAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17c3R5bGVzLmNsb3NlQnV0dG9ufT5cbiAgICAgICAgICAgICAgICAgIDxBbmltYXRlZC5UZXh0IHN0eWxlPXt7Zm9udFNpemU6IDE1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFt7cm90YXRlOiBjb25jYXQodGhpcy5yb3RhdGVDcm9zcywgJ2RlZycpfV19fT5cbiAgICAgICAgICAgICAgICAgICAgWFxuICAgICAgICAgICAgICAgICAgPC9BbmltYXRlZC5UZXh0PlxuICAgICAgICAgICAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICAgICAgICAgICAgPC9UYXBHZXN0dXJlSGFuZGxlcj5cbiAgICAgICAgICAgICAgPFRleHRJbnB1dCBcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy50ZXh0SW5wdXR9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlclRleHRDb2xvcj1cImJsYWNrXCJcbiAgICAgICAgICAgICAgICAgIGtleWJvYXJkVHlwZT17J2VtYWlsLWFkZHJlc3MnfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2VUZXh0PXt1c2VyRW1haWwgPT4gdGhpcy5zZXRTdGF0ZSh7dXNlckVtYWlsfSl9XG4gICAgICAgICAgICAgICAgICBhdXRvQ2FwaXRhbGl6ZT0nbm9uZSdcbiAgICAgICAgICAgICAgICAgIHJldHVybktleVR5cGU9J25leHQnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8VGV4dElucHV0IFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJtb3QgZGUgcGFzc2VcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy50ZXh0SW5wdXR9XG4gICAgICAgICAgICAgICAgICBzZWN1cmVUZXh0RW50cnk9e3RydWV9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlclRleHRDb2xvcj1cImJsYWNrXCJcbiAgICAgICAgICAgICAgICAgIGF1dG9DYXBpdGFsaXplPSdub25lJ1xuICAgICAgICAgICAgICAgICAgb25DaGFuZ2VUZXh0PXt1c2VyUGFzc3dvcmQgPT4gdGhpcy5zZXRTdGF0ZSh7dXNlclBhc3N3b3JkfSl9XG4gICAgICAgICAgICAgICAgICBrZXlib2FyZFR5cGU9eydkZWZhdWx0J31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxUb3VjaGFibGVPcGFjaXR5IHN0eWxlPXt7Li4uc3R5bGVzLmJ1dHRvbiwgYmFja2dyb3VuZENvbG9yOiAnIzAwM2QwMCd9fVxuICAgICAgICAgICAgICAgICAgb25QcmVzcz17dGhpcy5teVZhbGlkYXRlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt7Zm9udFNpemU6MjAsIGZvbnRXZWlnaHQ6J2JvbGQnLCBjb2xvcjogJ3doaXRlJ319ID5cbiAgICAgICAgICAgICAgICAgICAgQ29ubmV4aW9uXG4gICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICAgICAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgIDwvVmlldz5cbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJ1blRpbWluZyhjbG9jaywgdmFsdWUsIGRlc3QpIHtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgZmluaXNoZWQ6IG5ldyBWYWx1ZSgwKSxcbiAgICBwb3NpdGlvbjogbmV3IFZhbHVlKDApLFxuICAgIHRpbWU6IG5ldyBWYWx1ZSgwKSxcbiAgICBmcmFtZVRpbWU6IG5ldyBWYWx1ZSgwKVxuICB9O1xuXG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBkdXJhdGlvbjogMTAwMCxcbiAgICB0b1ZhbHVlOiBuZXcgVmFsdWUoMCksXG4gICAgZWFzaW5nOiBFYXNpbmcuaW5PdXQoRWFzaW5nLmVhc2UpXG4gIH07XG5cbiAgcmV0dXJuIGJsb2NrKFtcbiAgICBjb25kKGNsb2NrUnVubmluZyhjbG9jayksIDAsIFtcbiAgICAgIHNldChzdGF0ZS5maW5pc2hlZCwgMCksXG4gICAgICBzZXQoc3RhdGUudGltZSwgMCksXG4gICAgICBzZXQoc3RhdGUucG9zaXRpb24sIHZhbHVlKSxcbiAgICAgIHNldChzdGF0ZS5mcmFtZVRpbWUsIDApLFxuICAgICAgc2V0KGNvbmZpZy50b1ZhbHVlLCBkZXN0KSxcbiAgICAgIHN0YXJ0Q2xvY2soY2xvY2spXG4gICAgXSksXG4gICAgdGltaW5nKGNsb2NrLCBzdGF0ZSwgY29uZmlnKSxcbiAgICBjb25kKHN0YXRlLmZpbmlzaGVkLCBkZWJ1Zygnc3RvcCBjbG9jaycsIHN0b3BDbG9jayhjbG9jaykpKSxcbiAgICBzdGF0ZS5wb3NpdGlvblxuICBdKTtcbn1cblxuY29uc3QgbXlDb250YWluZXIgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICAgIGZsZXg6IDEsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgICAgaGVpZ2h0OmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgfVxufSk7Il19